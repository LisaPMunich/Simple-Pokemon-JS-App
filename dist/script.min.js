let pokemonRepository=function(){let e=[];function t(t){"object"==typeof t&&void 0!==t.name&&void 0!==t.detailsUrl?e.push(t):console.log("Pokemon does not fit conditions")}function o(e){let t=e.detailsUrl;return fetch(t).then(e=>e.json()).then(t=>(e.imageUrl=t.sprites.front_default,e.height=t.height,e.types=t.types,e)).catch(e=>console.error(e))}function n(e){o(e).then(e=>pokemonModal.showModal(e.name,e))}return{add:t,getAll:function(){return e},addListItem:function(e){let t=$(".row"),o=$(`\n              <div class="col-sm-6 col-lg-4 pokemon-list-column">\n                  <h2 class="pokemon-list-column__title">${e.name}</h2>\n                  <button type="button" class="btn btn-light" data-toggle="modal" data-target="#modal-dialog" aria-label="close">show  details</button>\n                  <img src="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${e.id}.png" class="modal-img" style="width:50%" alt="responsive image" aria-label="image of ${e.name}">\n              </div>`),a=o.find("button");$(a).on("click",function(){n(e)}),t.append(o)},loadList:function(){return fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then(e=>e.json()).then(e=>{e.results.forEach((e,o)=>{t({id:o+1,name:e.name,detailsUrl:e.url})})}).catch(e=>console.error(e))},loadDetails:o,showDetails:n}}();$("#searchBar").on("keyup",e=>{let t=e.target.value.toLowerCase(),o=pokemonRepository.getAll().filter(e=>e.name.toLowerCase().includes(t));$(".row").empty(),o.forEach(e=>pokemonRepository.addListItem(e))});let pokemonModal=function(){function e(e,o){$modalContainer.empty();let n=document.createElement("div");n.classList.add("modal-dialog"),$modalContainer.append(n);let a=document.createElement("div");a.classList.add("modal-content"),n.append(a);let l=document.createElement("div");l.classList.add("modal-header"),a.append(l);let i=document.createElement("h3");i.classList.add("modal-title"),i.innerText=e,l.append(i);let s=document.createElement("button");s.classList.add("btn"),s.innerHTML="&times;",l.append(s);let d=document.createElement("div");d.classList.add("modal-body"),a.append(d);let r=document.createElement("p");r.innerText=`height: ${o.height/10}m`,d.append(r);let m=document.createElement("p"),c=o.types[0].type.name;o.types[1]&&(c+=", "+o.types[1].type.name),m.innerText=`types: ${c}`,d.append(m);let p=document.createElement("img");p.setAttribute("src",o.imageUrl),p.setAttribute("alt","image of pokemon");p.setAttribute("style","height: 300px; width: 300px"),d.append(p),$modalContainer.addClass("is-visible"),$(s).on("click",t)}function t(){$modalContainer.removeClass("is-visible")}return $modalContainer=$("#modal-container"),$(".btn.btn-light").on("click",e),window.addEventListener("keydown",e=>{"Escape"===e.key&&$modalContainer.hasClass("is-visible")&&t()}),$modalContainer.click(function(e){e.target===$modalContainer&&t()}),{hideModal:t,showModal:e}}();pokemonRepository.loadList().then(()=>pokemonRepository.getAll().forEach(e=>pokemonRepository.addListItem(e)));